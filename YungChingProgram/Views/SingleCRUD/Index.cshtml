@model YungChingProgram.ViewModels.SingleCRUDViewModel

<div class="row form-horizontal form-label-left" style="margin-bottom:8px;">
    <label class="control-label col-md-2 col-sm-2 col-xs-12" style="font-size:16px;">
        部門名稱
    </label>
    <div class="col-md-2 col-sm-2 col-xs-12">
        <input class="form-control" id="queryDName" name="queryDName" />
    </div>
</div>
<div class="row form-horizontal form-label-left" style="margin-bottom:8px;">
    <label class="control-label col-md-2 col-sm-2 col-xs-12" style="font-size:16px;">
        部門類別
    </label>
    <div class="col-md-2 col-sm-2 col-xs-12">
        @Html.DropDownListFor(model => model.DTypeSelectList, Model.DTypeSelectList, new { id = "queryDType", @class = "form-control " })
    </div>
    <div class="col-md-6 col-sm-6 col-xs-12" style="text-align:right;">
        <button type="button" class="btn btn-primary" onclick="GetPartialViewDataList()">查詢</button>
    </div>
</div>
<div class="x_content">
    <div class="row">
        <div class="col-sm-12" style="text-align:center;">
                <table style="width: 100%" class="table" border="1">
                    <thead>
                        <tr>
                            <th style="width: 3%;">選項</th>
                            <th style="width: 13%;">公司代碼</th>
                            <th style="width: 13%;">公司名稱</th>
                            <th style="width: 13%;">公司類別</th>
                            <th style="width: 13%;">公司人數</th>
                            <th style="width: 13%;"></th>
                        </tr>
                    </thead>
                    <tbody id="tbody"></tbody>
                </table>
            </div>
    </div>
</div>

<script>
    function GetPartialViewDataList() {
        $.ajax({
            url: '@Url.Action("SingleCRUDPartialView", "SingleCRUD")',
            data: {
                name: $('#queryDName').val(),
                type: $('#queryDType option:selected').val()
            },
            type: 'post',
            success: function (data) {
                $('#tbody').html(data);
            }
        })
    }
</script>